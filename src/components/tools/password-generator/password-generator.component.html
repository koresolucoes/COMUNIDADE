<div class="space-y-8 max-w-2xl mx-auto">
  <div>
    <h1 class="text-3xl md:text-4xl font-bold text-white text-center">Gerador de Senhas Seguras</h1>
    <p class="mt-2 text-gray-400 text-center">Crie senhas fortes e chaves de API aleatórias para proteger suas contas e automações.</p>
  </div>
  
  <div class="p-6 bg-gray-900 border border-gray-800 rounded-lg space-y-6">
    <!-- Output Display -->
    <div class="relative">
      <input 
        type="text" 
        readonly 
        [value]="generatedPassword()"
        class="w-full bg-gray-800 border-gray-700 text-green-accent font-mono rounded-md p-4 pr-24 text-lg tracking-wider"
        placeholder="Sua senha aparecerá aqui...">
      <button (click)="copyToClipboard()" class="absolute inset-y-0 right-0 flex items-center px-4 text-sm bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-r-md">
        {{ copyButtonText() }}
      </button>
    </div>

    <!-- Strength Indicator -->
    <div class="space-y-2">
      <div class="flex justify-between text-sm">
        <span class="text-gray-400">Força da Senha</span>
        <span class="font-semibold" [class]="strength().color">{{ strength().text }}</span>
      </div>
      <div class="w-full bg-gray-700 rounded-full h-2">
        <div class="h-2 rounded-full transition-all" [class]="strength().color.replace('text-', 'bg-')" [style.width]="strength().width"></div>
      </div>
    </div>

    <!-- Options -->
    <div class="space-y-4 pt-4">
      <!-- Length Slider -->
      <div class="space-y-2">
        <div class="flex justify-between items-center text-sm font-medium">
          <label for="length" class="text-gray-300">Tamanho</label>
          <span class="text-white font-mono text-base">{{ length() }}</span>
        </div>
        <input 
          id="length"
          type="range" 
          min="8" 
          max="64" 
          [value]="length()"
          (input)="onLengthChange($event)"
          class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb">
      </div>

      <!-- Character Type Checkboxes -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <label class="flex items-center p-3 bg-gray-800 rounded-md cursor-pointer hover:bg-gray-700/50">
          <input type="checkbox" class="h-5 w-5 rounded bg-gray-700 border-gray-600 text-blue-accent focus:ring-blue-accent" [checked]="includeUppercase()" (change)="includeUppercase.set($any($event.target).checked); onOptionChange()">
          <span class="ml-3 text-sm text-white">Maiúsculas (A-Z)</span>
        </label>
        <label class="flex items-center p-3 bg-gray-800 rounded-md cursor-pointer hover:bg-gray-700/50">
          <input type="checkbox" class="h-5 w-5 rounded bg-gray-700 border-gray-600 text-blue-accent focus:ring-blue-accent" [checked]="includeLowercase()" (change)="includeLowercase.set($any($event.target).checked); onOptionChange()">
          <span class="ml-3 text-sm text-white">Minúsculas (a-z)</span>
        </label>
        <label class="flex items-center p-3 bg-gray-800 rounded-md cursor-pointer hover:bg-gray-700/50">
          <input type="checkbox" class="h-5 w-5 rounded bg-gray-700 border-gray-600 text-blue-accent focus:ring-blue-accent" [checked]="includeNumbers()" (change)="includeNumbers.set($any($event.target).checked); onOptionChange()">
          <span class="ml-3 text-sm text-white">Números (0-9)</span>
        </label>
        <label class="flex items-center p-3 bg-gray-800 rounded-md cursor-pointer hover:bg-gray-700/50">
          <input type="checkbox" class="h-5 w-5 rounded bg-gray-700 border-gray-600 text-blue-accent focus:ring-blue-accent" [checked]="includeSymbols()" (change)="includeSymbols.set($any($event.target).checked); onOptionChange()">
          <span class="ml-3 text-sm text-white">Símbolos (!@#$)</span>
        </label>
      </div>
    </div>
  </div>

  <button (click)="generatePassword()" class="w-full px-4 py-3 bg-blue-accent text-white rounded-md font-semibold hover:bg-blue-accent/90 transition-colors flex items-center justify-center gap-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h5M20 20v-5h-5M4 20h5v-5M20 4h-5v5" />
    </svg>
    Gerar Nova Senha
  </button>

  @if(currentUser()) {
    <div class="flex items-center gap-4 pt-4 border-t border-gray-800">
      <button (click)="saveData()" class="px-4 py-2 bg-gray-700 text-white rounded-md font-semibold hover:bg-gray-600 transition-colors flex items-center gap-2">
        <span class="material-icons-outlined text-base">save</span>
        Salvar Configurações
      </button>
      <a routerLink="/profile" class="text-sm font-medium text-blue-accent hover:underline">
        Minhas Configurações Salvas
      </a>
    </div>
  }
</div>
