<div class="max-w-4xl mx-auto">
  <header class="mb-12">
    <div class="text-sm text-gray-400 mb-3 flex items-center gap-2">
      <a routerLink="/learning" class="hover:text-blue-accent hover:underline">Trilhas de Aprendizagem</a>
      <span class="material-icons-outlined text-base">chevron_right</span>
      <a routerLink="/learning/do-codigo-a-nuvem" class="hover:text-blue-accent hover:underline">Do Código à Nuvem</a>
    </div>
    <h1 class="text-4xl md:text-5xl font-bold text-white tracking-tight">Seu Primeiro Servidor: "Hello World" com Node.js</h1>
    <p class="mt-4 text-lg text-gray-400">Escreva suas primeiras linhas de código de backend usando Node.js e Express para criar um servidor web simples.</p>
  </header>

  <article class="prose-container space-y-10">
    <p>
      Bem-vindo à parte prática da jornada! Até agora, aprendemos sobre a lógica e as ferramentas. Agora, vamos juntar tudo para construir algo real: um <strong>servidor web</strong>. É a peça de software que fica "nos bastidores" de um site ou API, esperando por requisições e enviando respostas.
    </p>

    <!-- 1. A Teoria -->
    <div class="p-6 bg-gray-900 border border-gray-800 rounded-lg">
      <h2 class="text-2xl font-semibold text-white !mt-0">1. A Teoria: O que Vamos Construir?</h2>
      <p>
        Vamos construir a "cozinha do restaurante". Esta cozinha (o <strong>backend</strong>) terá uma única função: quando alguém pedir o "prato do dia" na porta de entrada, ela responderá com "Hello World!". Para isso, usaremos duas ferramentas:
      </p>
      <ul class="list-disc list-inside text-gray-400 space-y-2">
        <li><strong>Node.js:</strong> É o "ambiente" que nos permite rodar código JavaScript (a linguagem da web) no servidor, fora do navegador.</li>
        <li><strong>Express.js:</strong> É um "kit de montagem" para Node.js. Ele nos dá peças prontas (funções) para construir servidores web de forma muito mais fácil e organizada.</li>
      </ul>
    </div>

    <!-- 2. A Preparação -->
    <div>
      <h2 class="text-2xl font-semibold text-white">2. A Preparação: Montando o Ambiente</h2>
      <p>
        Vamos usar o Terminal e o NPM (que aprendemos na trilha anterior) para preparar nosso projeto. Abra seu terminal e siga os passos:
      </p>
      <div class="p-4 bg-gray-800 border border-gray-700 rounded-lg">
        <h4 class="text-sm font-semibold text-gray-300 mb-2">Passo a Passo no Terminal</h4>
        <pre class="!bg-gray-900 !p-3 !my-0"><code class="language-bash" [textContent]="bashSnippet"></code></pre>
        <p class="text-xs text-gray-400 mt-3">Pronto! Nosso ambiente está preparado. A pasta agora contém um <code>package.json</code>, uma pasta <code>node_modules</code> e nosso arquivo vazio <code>index.js</code>.</p>
      </div>
    </div>

    <!-- 3. A Construção -->
    <div>
      <h2 class="text-2xl font-semibold text-white">3. A Construção: Escrevendo o Código do Servidor</h2>
      <p>
        Abra o arquivo <code>index.js</code> no seu editor de código (como o VS Code) e cole o seguinte código. Leia os comentários para entender o que cada linha faz.
      </p>
      <div class="p-4 bg-gray-800 border border-gray-700 rounded-lg">
        <h4 class="text-sm font-semibold text-gray-300 mb-2">index.js</h4>
        <pre class="!bg-gray-900 !p-3 !my-0"><code class="language-javascript" [textContent]="indexJsSnippet"></code></pre>
      </div>
    </div>

    <!-- 4. O Teste -->
    <div>
      <h2 class="text-2xl font-semibold text-white">4. O Teste: Ligando a Máquina</h2>
      <p>
        Salve o arquivo <code>index.js</code> e volte para o seu terminal (que deve estar na pasta <code>meu-primeiro-servidor</code>). Execute o seguinte comando:
      </p>
      <pre class="!bg-gray-900 !p-3 !my-2"><code class="language-bash" [textContent]="runServerSnippet"></code></pre>
      <p>
        Você deverá ver a mensagem: <code>Servidor rodando em http://localhost:3000</code>. Seu servidor está no ar!
      </p>
      <p>
        Agora, abra seu navegador de internet e acesse o endereço <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">http://localhost:3000</a>.
      </p>
      <p>
        Você verá a mensagem <strong>Hello World!</strong> na tela. Parabéns! Você acabou de fazer uma requisição <code>GET</code> do seu navegador (o cliente) para o seu primeiro servidor (o backend), e ele respondeu corretamente.
      </p>
       <div class="mt-4 p-3 bg-blue-900/30 border border-blue-700/50 text-blue-300 rounded-lg text-xs">
          Para desligar o servidor no terminal, pressione <strong>Ctrl + C</strong>.
      </div>
    </div>

    <!-- 5. A Expansão -->
    <div>
      <h2 class="text-2xl font-semibold text-white">5. A Expansão: Adicionando uma Nova "Página" (Rota)</h2>
      <p>
        Um servidor pode ter várias "páginas" ou "endpoints". Vamos adicionar uma rota <code>/sobre</code>. Adicione o seguinte bloco de código ao seu <code>index.js</code>, antes da linha <code>app.listen</code>:
      </p>
       <div class="p-4 bg-gray-800 border border-gray-700 rounded-lg">
        <h4 class="text-sm font-semibold text-gray-300 mb-2">Adicionando a rota /sobre</h4>
        <pre class="!bg-gray-900 !p-3 !my-0"><code class="language-javascript" [textContent]="sobreRouteSnippet"></code></pre>
      </div>
      <p class="mt-4">
        Agora, pare seu servidor (Ctrl+C) e inicie-o novamente com <code>node index.js</code>. Se você acessar <a href="http://localhost:3000/sobre" target="_blank" rel="noopener noreferrer">http://localhost:3000/sobre</a>, verá a nova mensagem. Você acabou de criar dois endpoints diferentes em sua primeira API!
      </p>
    </div>

    <div class="p-6 bg-green-900/30 border border-green-700/50 text-green-300 rounded-lg">
      <h3 class="font-semibold text-green-200 text-lg mb-2">Conclusão: A Base de Tudo</h3>
      <p>
        Você construiu um servidor web funcional do zero. Por mais simples que pareça, este é o princípio fundamental por trás de todas as APIs e backends da internet. Nos próximos passos, aprenderemos como fazer este servidor interagir com um banco de dados para armazenar e recuperar informações.
      </p>
    </div>

    <div class="pt-8 text-center">
       <a routerLink="/learning/do-codigo-a-nuvem" class="inline-flex items-center gap-2 px-6 py-3 bg-gray-700 text-white rounded-md font-semibold hover:bg-gray-600 transition-colors">
        <span class="material-icons-outlined">arrow_back</span>
        Voltar para a Trilha
      </a>
    </div>
  </article>
</div>
