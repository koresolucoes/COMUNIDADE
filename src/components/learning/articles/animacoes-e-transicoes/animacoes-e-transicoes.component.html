
<div class="max-w-4xl mx-auto">
  <header class="mb-12">
    <div class="text-sm text-gray-400 mb-3 flex items-center gap-2">
      <a routerLink="/learning" class="hover:text-blue-accent hover:underline">Trilhas de Aprendizagem</a>
      <span class="material-icons-outlined text-base">chevron_right</span>
      <a routerLink="/learning/css-interativo-moderno" class="hover:text-blue-accent hover:underline">CSS Interativo e Moderno</a>
    </div>
    <h1 class="text-4xl md:text-5xl font-bold text-white tracking-tight">Dando Vida à Interface</h1>
    <p class="mt-4 text-lg text-gray-400">Do micro ao macro: domine transições, keyframes e a poderosa animação de linhas SVG.</p>
  </header>

  <article class="prose-container space-y-16">
    
    <!-- Intro -->
    <div class="p-6 bg-gray-900 border border-gray-800 rounded-lg">
      <h2 class="text-2xl font-semibold text-white !mt-0">Física e Emoção na UI</h2>
      <p class="text-gray-300">
        No mundo real, nada se teletransporta do ponto A para o ponto B. As coisas aceleram, desaceleram e têm peso. Interfaces que mudam de estado instantaneamente parecem "quebradas" ou robóticas para o cérebro humano.
        Animações bem feitas não são enfeites; elas contam uma história sobre o que aconteceu (feedback) e para onde o usuário deve olhar (foco).
      </p>
    </div>

    <!-- Seção 1: Transições -->
    <section>
      <h2 class="text-2xl font-semibold text-white mb-4">1. A Física da Transição</h2>
      <p class="text-gray-300 mb-6">
        A propriedade <code>transition</code> é a cola que une dois estados. O segredo de uma transição "profissional" está na curva de aceleração (Easing). O padrão <code>linear</code> parece artificial. Curvas como <code>ease-out</code> (rápido no começo, suave no fim) parecem mais naturais para elementos que entram em cena.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 p-6 bg-gray-900 border border-gray-800 rounded-xl">
        <div class="space-y-6">
          <div>
            <label class="block text-sm text-gray-400 mb-2">Duração: {{ transitionDuration() }}s</label>
            <input type="range" min="0.1" max="2" step="0.1" [ngModel]="transitionDuration()" (ngModelChange)="transitionDuration.set(+$event)" class="w-full slider-thumb">
          </div>

          <div>
            <label class="block text-sm text-gray-400 mb-2">Curva de Tempo (Easing)</label>
            <div class="grid grid-cols-2 gap-2">
              <button (click)="transitionTiming.set('linear')" [class.bg-blue-600]="transitionTiming() === 'linear'" class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-xs text-gray-300 transition-colors">linear</button>
              <button (click)="transitionTiming.set('ease')" [class.bg-blue-600]="transitionTiming() === 'ease'" class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-xs text-gray-300 transition-colors">ease</button>
              <button (click)="transitionTiming.set('ease-out')" [class.bg-blue-600]="transitionTiming() === 'ease-out'" class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-xs text-gray-300 transition-colors">ease-out</button>
              <button (click)="transitionTiming.set('cubic-bezier(0.68, -0.55, 0.27, 1.55)')" [class.bg-blue-600]="transitionTiming().includes('cubic')" class="px-3 py-2 bg-gray-800 border border-gray-700 rounded text-xs text-gray-300 transition-colors">spring (Elástico)</button>
            </div>
          </div>
          
          <div class="text-xs text-gray-500 bg-black/20 p-3 rounded border border-gray-700">
            <code>transition: all {{ transitionDuration() }}s {{ transitionTiming() }};</code>
          </div>
        </div>

        <div class="flex items-center justify-center bg-gray-800 rounded-lg border border-gray-700 relative overflow-hidden group cursor-pointer min-h-[200px]">
          <!-- Grid Background -->
          <div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(#fff 1px, transparent 1px); background-size: 20px 20px;"></div>
          
          <div class="w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg flex items-center justify-center text-white font-bold transform group-hover:scale-110 group-hover:rotate-3 group-hover:shadow-blue-500/50"
               [style.transition-duration.s]="transitionDuration()"
               [style.transition-timing-function]="transitionTiming()">
            Hover Me
          </div>
        </div>
      </div>
    </section>

    <!-- Seção 2: Keyframes -->
    <section>
      <h2 class="text-2xl font-semibold text-white mb-4">2. Micro-interações com Keyframes</h2>
      <p class="text-gray-300 mb-6">
        Quando você precisa de uma coreografia com múltiplos passos (ex: explodir, girar, depois voltar), <code>transition</code> não basta. Use <code>@keyframes</code>. Abaixo, recriamos o famoso efeito de "Like" do Twitter usando apenas CSS.
      </p>

      <div class="flex flex-col items-center justify-center p-12 bg-gray-900 border border-gray-800 rounded-xl relative">
         <button (click)="toggleLike()" class="relative group focus:outline-none">
            <!-- O Coração -->
            <div class="relative z-10 transition-transform duration-100 active:scale-90">
              <span class="material-icons-outlined text-6xl transition-colors duration-300"
                    [class.text-gray-500]="!isLiked()"
                    [class.text-red-500]="isLiked()"
                    [class.animate-heart-pop]="isAnimatingLike()">
                {{ isLiked() ? 'favorite' : 'favorite_border' }}
              </span>
            </div>

            <!-- Partículas (Simuladas com CSS circles e box-shadow) -->
            @if(isAnimatingLike()) {
              <div class="absolute inset-0 pointer-events-none">
                 <div class="particle-ring"></div>
              </div>
            }
         </button>
         <p class="mt-4 text-gray-500 text-sm">Clique no coração</p>
      </div>
    </section>

    <!-- Seção 3: Animação SVG -->
    <section>
      <h2 class="text-2xl font-semibold text-white mb-4">3. O Poder Oculto do SVG: "Line Drawing"</h2>
      <p class="text-gray-300 mb-6">
        Uma das animações mais elegantes da web é fazer um ícone se "desenhar" sozinho. Isso é feito manipulando duas propriedades do SVG:
        <code>stroke-dasharray</code> (que cria o tracejado) e <code>stroke-dashoffset</code> (que empurra o tracejado).
      </p>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 p-6 bg-gray-900 border border-gray-800 rounded-xl">
        <div class="space-y-6">
          <div>
             <h3 class="font-bold text-white mb-2">Controle Manual</h3>
             <p class="text-sm text-gray-400 mb-4">Arraste o slider para entender como o traço é revelado. É como puxar uma cortina sobre a linha.</p>
             <input type="range" min="0" max="100" [ngModel]="drawProgress()" (ngModelChange)="drawProgress.set(+$event)" class="w-full slider-thumb">
             <div class="flex justify-between text-xs text-gray-500 mt-1">
               <span>0% (Invisível)</span>
               <span>100% (Visível)</span>
             </div>
          </div>
          
          <div class="p-4 bg-black/30 rounded border border-gray-700 font-mono text-xs text-blue-300">
            <div class="text-gray-500 mb-1">// A Lógica CSS</div>
            <div>stroke-dasharray: {{ pathLength }};</div>
            <div class="text-white">stroke-dashoffset: {{ svgDashOffset().toFixed(0) }};</div>
          </div>
          
          <p class="text-xs text-gray-400">
            <strong>Como funciona:</strong> Definimos o tamanho do tracejado (dasharray) igual ao tamanho total da linha. Depois, usamos o offset para "empurrar" a parte sólida da linha para fora da vista. Reduzindo o offset para 0, a linha "entra" na vista.
          </p>
        </div>

        <div class="flex items-center justify-center bg-gray-800 rounded-lg border border-gray-700 p-8">
           <!-- SVG Abstrato -->
           <svg width="150" height="150" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
              <!-- Fundo para referência (cinza escuro) -->
              <path d="M20 20 L50 50 L20 80 M50 50 L80 20 M50 50 L80 80" stroke="#374151" stroke-width="8" stroke-linecap="round" stroke-linejoin="round" />
              
              <!-- O Path Animado (Colorido) -->
              <path d="M20 20 L50 50 L20 80 M50 50 L80 20 M50 50 L80 80" 
                    stroke="#3fb950" 
                    stroke-width="8" 
                    stroke-linecap="round" 
                    stroke-linejoin="round"
                    [style.stroke-dasharray]="pathLength"
                    [style.stroke-dashoffset]="svgDashOffset()"
                    class="transition-all duration-75 ease-linear" />
           </svg>
        </div>
      </div>
    </section>

    <!-- Desafio Prático -->
    <section class="mt-16 border-t border-gray-800 pt-10">
      <div class="bg-gradient-to-br from-purple-900/20 to-gray-900 border border-purple-500/30 rounded-xl p-8">
        <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-8">
          <div>
            <span class="text-xs font-bold text-purple-400 uppercase tracking-wider">Desafio Prático</span>
            <h2 class="text-2xl font-bold text-white mt-1">O Botão Morphing</h2>
            <p class="text-gray-400 text-sm mt-2">
              Este botão combina tudo: transição de forma (CSS), troca de estado e animação de desenho SVG. Clique para ver a mágica.
            </p>
          </div>
        </div>

        <div class="flex flex-col items-center justify-center min-h-[200px] bg-gray-900/50 rounded-xl border border-gray-700/50 p-8">
          
          <!-- Botão Principal -->
          <button (click)="startProcess()" 
                  class="relative h-12 flex items-center justify-center text-white font-bold shadow-lg transition-all duration-500 overflow-hidden"
                  [class.w-40]="buttonState() === 'idle'"
                  [class.w-12]="buttonState() !== 'idle'"
                  [class.rounded-md]="buttonState() === 'idle'"
                  [class.rounded-full]="buttonState() !== 'idle'"
                  [class.bg-blue-600]="buttonState() === 'idle'"
                  [class.bg-gray-700]="buttonState() === 'loading'"
                  [class.bg-green-500]="buttonState() === 'success'"
                  [class.cursor-default]="buttonState() !== 'idle'">
            
            <!-- Texto "ENVIAR" -->
            <span class="absolute transition-all duration-300 delay-100 whitespace-nowrap"
                  [class.opacity-100]="buttonState() === 'idle'"
                  [class.opacity-0]="buttonState() !== 'idle'"
                  [class.translate-y-0]="buttonState() === 'idle'"
                  [class.translate-y-10]="buttonState() !== 'idle'">
              ENVIAR PEDIDO
            </span>

            <!-- Spinner SVG -->
            <svg class="absolute w-6 h-6 text-blue-400 animate-spin transition-all duration-300"
                 [class.opacity-100]="buttonState() === 'loading'"
                 [class.opacity-0]="buttonState() !== 'loading'"
                 [class.scale-100]="buttonState() === 'loading'"
                 [class.scale-0]="buttonState() !== 'loading'"
                 xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>

            <!-- Checkmark SVG (Desenhado) -->
            <svg class="absolute w-6 h-6 text-white transition-opacity duration-300"
                 [class.opacity-100]="buttonState() === 'success'"
                 [class.opacity-0]="buttonState() !== 'success'"
                 viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 6L9 17l-5-5" 
                    class="checkmark-path"
                    [class.animate-draw]="buttonState() === 'success'"></path>
            </svg>
          </button>

          <p class="mt-8 text-xs text-gray-500">Estado: <span class="font-mono text-purple-300">{{ buttonState() }}</span></p>

        </div>
      </div>
    </section>

    <div class="pt-8 text-center">
       <a routerLink="/learning/article/formas-com-clip-path" class="inline-flex items-center gap-2 px-6 py-3 bg-gray-700 text-white rounded-md font-semibold hover:bg-gray-600 transition-colors">
        <span class="material-icons-outlined">arrow_back</span>
        Anterior: Formas e Clip-path
      </a>
       <a routerLink="/learning/article/fundos-impactantes-gradientes" class="inline-flex items-center gap-2 px-6 py-3 bg-blue-accent text-white rounded-md font-semibold hover:bg-blue-accent/90 transition-colors ml-4">
        Próximo: Gradientes
        <span class="material-icons-outlined">arrow_forward</span>
      </a>
    </div>
  </article>
</div>
