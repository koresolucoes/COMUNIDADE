<div class="max-w-4xl mx-auto">
  <header class="mb-12">
    <div class="text-sm text-gray-400 mb-3 flex items-center gap-2">
      <a routerLink="/learning" class="hover:text-blue-accent hover:underline">Trilhas de Aprendizagem</a>
      <span class="material-icons-outlined text-base">chevron_right</span>
      <a routerLink="/learning/python-fundamentos-dados" class="hover:text-blue-accent hover:underline">Fundamentos de Python para Dados</a>
    </div>
    <h1 class="text-4xl md:text-5xl font-bold text-white tracking-tight">Laboratório de Arquivos</h1>
    <p class="mt-4 text-lg text-gray-400">Interaja com um sistema de arquivos virtual para ler e escrever dados em formatos como texto e JSON.</p>
  </header>

  <article class="prose-container space-y-16">
    
    <div class="p-6 bg-gray-900 border border-gray-800 rounded-lg">
      <h2 class="text-2xl font-semibold text-white !mt-0">Bem-vindo ao Laboratório</h2>
      <p>
        Muitas tarefas de automação começam lendo dados de um arquivo e terminam salvando resultados em outro. Neste laboratório, você usará um <strong>Sistema de Arquivos Virtual</strong> à direita e um <strong>Console Python</strong> à esquerda para praticar essas operações em tempo real.
      </p>
       <p class="text-sm text-gray-400">
        <strong>Seu Desafio:</strong> Execute os comandos nos consoles Python e observe como os arquivos no explorador são criados, modificados e lidos.
      </p>
    </div>

    <!-- Seção 1: Arquivos de Texto -->
    <section>
      <h2 class="text-2xl font-semibold text-white mb-4">1. Lendo e Escrevendo Arquivos de Texto</h2>
      <p class="text-gray-300 mb-6">
        Vamos começar com o básico: ler o conteúdo de um arquivo de texto e escrever em um novo.
      </p>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 p-6 bg-gray-900 border border-gray-800 rounded-xl">
        <!-- Console -->
        <div class="space-y-4">
            <h3 class="text-lg font-bold text-white">Exercício 1.1: Lendo `notas.txt`</h3>
            <app-python-console [initialCode]="readTextExercise" outputHeight="150px"></app-python-console>
            
            <h3 class="text-lg font-bold text-white mt-6">Exercício 1.2: Escrevendo `saida.txt`</h3>
            <app-python-console [initialCode]="writeTextExercise" outputHeight="150px"></app-python-console>

             <h3 class="text-lg font-bold text-white mt-6">Exercício 1.3: Adicionando ao `saida.txt`</h3>
            <app-python-console [initialCode]="appendTextExercise" outputHeight="150px"></app-python-console>
        </div>

        <!-- File Explorer -->
        <div class="min-h-[400px]">
            <app-file-system-explorer></app-file-system-explorer>
        </div>
      </div>
    </section>

    <!-- Seção 2: Arquivos JSON -->
    <section>
      <h2 class="text-2xl font-semibold text-white mb-4">2. O Poder do JSON</h2>
      <p class="text-gray-300 mb-6">
        JSON é o formato padrão para troca de dados em APIs. O Python o trata como um cidadão de primeira classe, convertendo-o facilmente de e para dicionários e listas.
      </p>

       <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 p-6 bg-gray-900 border border-gray-800 rounded-xl">
        <!-- Console -->
        <div class="space-y-4">
            <h3 class="text-lg font-bold text-white">Exercício 2.1: Carregando `config.json`</h3>
            <app-python-console [initialCode]="readJsonExercise" outputHeight="180px"></app-python-console>
            
            <h3 class="text-lg font-bold text-white mt-6">Exercício 2.2: Salvando `produto.json`</h3>
            <app-python-console [initialCode]="writeJsonExercise" outputHeight="200px"></app-python-console>
        </div>

        <!-- File Explorer (instância diferente visualmente, mas mesmo serviço) -->
        <div class="min-h-[400px]">
            <app-file-system-explorer></app-file-system-explorer>
        </div>
      </div>
    </section>
    
    <div class="p-6 bg-green-900/30 border border-green-700/50 text-green-300 rounded-lg">
      <h3 class="font-semibold text-green-200 text-lg mb-2">Conclusão</h3>
      <p>
        Você manipulou arquivos de texto e JSON programaticamente! Esta habilidade é fundamental para qualquer tarefa de automação, desde processar logs até gerar relatórios e interagir com APIs que retornam arquivos.
      </p>
    </div>

    <!-- Navegação -->
    <div class="pt-8 flex justify-between items-center border-t border-gray-800">
       <a routerLink="/learning/article/python-funcoes" class="inline-flex items-center gap-2 px-4 py-2 bg-gray-800 text-gray-300 rounded-md font-semibold hover:bg-gray-700 transition-colors text-sm">
        <span class="material-icons-outlined">arrow_back</span>
        Anterior: Funções
      </a>
      
      <a routerLink="/learning/article/python-requests" class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-full font-bold transition-all shadow-lg shadow-blue-900/20 hover:shadow-blue-500/40 transform hover:-translate-y-1">
        Próximo: APIs com Requests
        <span class="material-icons-outlined">arrow_forward</span>
      </a>
    </div>

  </article>
</div>
