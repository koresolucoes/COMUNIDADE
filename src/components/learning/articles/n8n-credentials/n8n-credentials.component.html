<div class="max-w-4xl mx-auto">
  <header class="mb-12">
    <div class="text-sm text-gray-400 mb-3 flex items-center gap-2">
      <a routerLink="/learning" class="hover:text-blue-accent hover:underline">Trilhas de Aprendizagem</a>
      <span class="material-icons-outlined text-base">chevron_right</span>
      <a routerLink="/learning/n8n-basico" class="hover:text-blue-accent hover:underline">n8n Básico</a>
    </div>
    <h1 class="text-4xl md:text-5xl font-bold text-white tracking-tight">Segurança: Usando Credenciais no n8n</h1>
    <p class="mt-4 text-lg text-gray-400">Descubra a maneira correta e segura de armazenar e usar chaves de API e outros segredos em seus workflows.</p>
  </header>

  <article class="prose-container space-y-10">
    <div class="p-6 bg-yellow-900/30 border border-yellow-700/50 text-yellow-300 rounded-lg">
      <h2 class="text-2xl font-semibold text-yellow-200 !mt-0">O Problema: Segredos Expostos</h2>
      <p>
        No artigo anterior, vimos como adicionar uma chave de API em um nó HTTP Request. No entanto, colocar a chave diretamente no campo "Value" é uma <strong>péssima prática de segurança</strong>.
      </p>
      <p>
        Por quê? Se você compartilhar seu workflow (exportando o JSON), a chave de API secreta irá junto! Qualquer pessoa com acesso ao JSON do workflow terá acesso à sua chave, o que pode levar a usos indevidos da sua conta.
      </p>
    </div>

    <div>
      <h2 class="text-2xl font-semibold text-white">A Solução: O "Cofre" do n8n (Credenciais)</h2>
      <p>
        O n8n possui um sistema de <strong>Credenciais</strong> que funciona como um cofre. Você armazena suas chaves de API, senhas e outros segredos neste cofre uma única vez. A partir daí, em seus workflows, você não usa a chave real, mas sim uma <strong>referência</strong> a ela.
      </p>
      <p>
        Quando você exporta um workflow, apenas a referência é exportada, não o segredo em si. Isso torna o compartilhamento de workflows seguro.
      </p>
    </div>
    
    <div>
      <h2 class="text-2xl font-semibold text-white">Como Criar e Usar uma Credencial</h2>
      <p>Vamos criar uma credencial genérica para uma chave de API.</p>
      <ol class="list-decimal list-inside text-gray-400 space-y-3">
        <li>
          <strong>Acesse o Cofre:</strong> No menu principal do n8n (à esquerda), clique em "Credentials".
        </li>
        <li>
          <strong>Adicione uma Nova Credencial:</strong> Clique em "Add credential". Na barra de busca, procure por "Header Auth" e selecione-a. Este é um tipo genérico para chaves de API enviadas em cabeçalhos.
        </li>
        <li>
          <strong>Preencha os Campos:</strong>
            <ul class="list-disc list-inside text-sm text-gray-400 mt-2 pl-6">
                <li><strong>Credential Name:</strong> Dê um nome fácil de lembrar. Ex: "Minha API de Clima".</li>
                <li><strong>Name:</strong> O nome do cabeçalho HTTP que a API espera. Ex: <code>X-Api-Key</code>.</li>
                <li><strong>Value:</strong> Aqui sim, você cola a sua chave de API secreta.</li>
            </ul>
        </li>
         <li>
          <strong>Salve a Credencial:</strong> Clique em "Save".
        </li>
        <li>
          <strong>Use no Workflow:</strong> Volte ao seu workflow e abra o nó HTTP Request.
            <ul class="list-disc list-inside text-sm text-gray-400 mt-2 pl-6">
                <li>Na seção "Authentication", selecione "Header Auth".</li>
                <li>No campo "Credential", um menu dropdown aparecerá. Selecione a credencial que você acabou de criar ("Minha API de Clima").</li>
            </ul>
        </li>
      </ol>
      <p class="mt-4">
        É isso! Agora, quando o workflow for executado, o n8n irá automaticamente buscar a chave secreta no cofre e adicioná-la ao cabeçalho da requisição.
      </p>
    </div>
    
    <div class="p-6 bg-green-900/30 border border-green-700/50 text-green-300 rounded-lg">
      <h3 class="font-semibold text-green-200 text-lg mb-2">Conclusão: Separe o Código da Configuração</h3>
      <p>
        Usar o sistema de credenciais é uma das práticas mais importantes para construir workflows robustos e seguros. Ele reforça um princípio fundamental da programação: separar a lógica do seu código (o workflow) das configurações e segredos (as credenciais). Adote este hábito desde o início e suas automações serão muito mais profissionais e seguras.
      </p>
    </div>

    <div class="pt-8 text-center">
       <a routerLink="/learning/n8n-basico" class="inline-flex items-center gap-2 px-6 py-3 bg-gray-700 text-white rounded-md font-semibold hover:bg-gray-600 transition-colors">
        <span class="material-icons-outlined">arrow_back</span>
        Voltar para a Trilha "n8n Básico"
      </a>
    </div>
  </article>
</div>
