<div class="max-w-4xl mx-auto">
  <header class="mb-12">
    <div class="text-sm text-gray-400 mb-3 flex items-center gap-2">
      <a routerLink="/learning" class="hover:text-blue-accent hover:underline">Trilhas de Aprendizagem</a>
      <span class="material-icons-outlined text-base">chevron_right</span>
      <a routerLink="/learning/python-fundamentos-dados" class="hover:text-blue-accent hover:underline">Fundamentos de Python para Dados</a>
    </div>
    <h1 class="text-4xl md:text-5xl font-bold text-white tracking-tight">Laboratório: APIs com `requests`</h1>
    <p class="mt-4 text-lg text-gray-400">Aprenda a usar a biblioteca `requests`, o padrão em Python para interagir com APIs REST, de forma prática.</p>
  </header>
  <article class="prose-container space-y-12">
    <div class="p-6 bg-gray-900 border border-gray-800 rounded-lg">
      <h2 class="text-2xl font-semibold text-white !mt-0">O que é a biblioteca `requests`?</h2>
      <p>
        <strong>Requests</strong> é uma biblioteca Python que torna as conversas com a web (requisições HTTP) incrivelmente simples. Ela abstrai toda a complexidade, permitindo que você se concentre no que importa: buscar ou enviar dados. Seu slogan é "HTTP para Humanos".
      </p>
      <p class="text-sm text-gray-400">
        Neste laboratório, o console Python já vem com uma versão simulada da biblioteca `requests` pronta para usar. As requisições são feitas de forma assíncrona, por isso usamos a palavra-chave <code>await</code>.
      </p>
    </div>

    <!-- Seção 1: GET Request -->
    <section>
      <h2 class="text-2xl font-semibold text-white mb-4">1. Buscando Dados com `GET`</h2>
      <p class="text-gray-300 mb-6">
        Uma requisição <code>GET</code> é usada para <strong>buscar</strong> dados de um servidor. É o que seu navegador faz quando você acessa um site. Execute o código abaixo para buscar um "to-do" de uma API de teste.
      </p>

      <div class="p-4 bg-gray-800 border border-gray-700 rounded-xl shadow-lg">
        <h4 class="text-sm font-bold text-white mb-3 flex items-center gap-2">
           <span class="material-icons-outlined text-green-400">terminal</span> Exercício: Buscando uma tarefa
        </h4>
        <app-python-console [initialCode]="getRequestSnippet" outputHeight="250px"></app-python-console>
      </div>
    </section>

    <!-- Seção 2: POST Request -->
    <section>
      <h2 class="text-2xl font-semibold text-white mb-4">2. Enviando Dados com `POST`</h2>
      <p class="text-gray-300 mb-6">
        Uma requisição <code>POST</code> é usada para <strong>criar</strong> um novo recurso no servidor. Para isso, enviamos os dados em um dicionário Python usando o parâmetro <code>json</code>.
      </p>

      <div class="p-4 bg-gray-800 border border-gray-700 rounded-xl shadow-lg">
        <h4 class="text-sm font-bold text-white mb-3 flex items-center gap-2">
           <span class="material-icons-outlined text-green-400">terminal</span> Exercício: Criando um novo post
        </h4>
        <app-python-console [initialCode]="postRequestSnippet" outputHeight="250px"></app-python-console>
      </div>
    </section>

    <!-- Seção 3: Params e Headers -->
    <section>
      <h2 class="text-2xl font-semibold text-white mb-4">3. Parâmetros Adicionais: `params` e `headers`</h2>
      <p class="text-gray-300 mb-6">
        Muitas APIs requerem informações extras, como filtros na URL (query parameters) ou chaves de autenticação (headers). A biblioteca `requests` torna isso fácil.
      </p>

      <div class="p-4 bg-gray-800 border border-gray-700 rounded-xl shadow-lg">
        <h4 class="text-sm font-bold text-white mb-3 flex items-center gap-2">
           <span class="material-icons-outlined text-green-400">terminal</span> Exercício: Filtrando posts por usuário
        </h4>
        <app-python-console [initialCode]="paramsAndHeadersSnippet" outputHeight="200px"></app-python-console>
      </div>
    </section>
    
    <div class="p-6 bg-green-900/30 border border-green-700/50 text-green-300 rounded-lg">
      <h3 class="font-semibold text-green-200 text-lg mb-2">Conclusão e Próximo Passo</h3>
      <p>
        Você aprendeu o básico para interagir com qualquer API REST usando Python! Essa é uma habilidade fundamental para qualquer automação. Mas e se o site não tiver uma API?
      </p>
      <p>
        No próximo artigo, vamos aprender o "plano B": <strong>Web Scraping</strong>, a arte de extrair dados diretamente do HTML de uma página.
      </p>
    </div>

    <!-- Navegação -->
    <div class="pt-8 flex justify-between items-center border-t border-gray-800">
       <a routerLink="/learning/article/python-arquivos" class="inline-flex items-center gap-2 px-4 py-2 bg-gray-800 text-gray-300 rounded-md font-semibold hover:bg-gray-700 transition-colors text-sm">
        <span class="material-icons-outlined">arrow_back</span>
        Anterior: Arquivos
      </a>
      
      <a routerLink="/learning/article/python-web-scraping" class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-full font-bold transition-all shadow-lg shadow-blue-900/20 hover:shadow-blue-500/40 transform hover:-translate-y-1">
        Próximo: Web Scraping
        <span class="material-icons-outlined">arrow_forward</span>
      </a>
    </div>

  </article>
</div>
