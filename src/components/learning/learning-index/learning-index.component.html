<div class="space-y-12">
  <section>
    <h1 class="text-3xl md:text-4xl font-bold text-white">Trilhas de Aprendizagem</h1>
    <p class="mt-2 text-gray-400">Cursos guiados para dominar ferramentas e conceitos de automação, passo a passo.</p>
  </section>

  @if (mainCategories().length === 0) {
    <div class="text-center py-16 bg-gray-900 border border-dashed border-gray-800 rounded-lg">
      <span class="material-icons-outlined text-5xl text-gray-600">school</span>
      <p class="mt-4 text-gray-500">Nenhuma trilha de aprendizagem disponível no momento.</p>
    </div>
  } @else {
    <div class="space-y-12">
      @for(mainCat of mainCategories(); track mainCat.id) {
        <section>
          <h2 class="text-3xl font-bold text-white mb-8 pb-3 border-b border-gray-800 flex items-center gap-4">
            <span class="material-icons-outlined text-blue-accent text-4xl">{{ mainCat.icon }}</span>
            <span>{{ mainCat.name }}</span>
          </h2>
          <div class="space-y-10">
            @for(subCat of mainCat.subcategories; track subCat.id) {
              <div>
                <div class="flex items-center gap-3 mb-2">
                  <span class="material-icons-outlined text-gray-400">{{ subCat.icon }}</span>
                  <h3 class="text-xl font-semibold text-gray-200">{{ subCat.name }}</h3>
                </div>
                <p class="text-sm text-gray-500 mb-6 ml-9">{{ subCat.description }}</p>
                
                @if(subCat.paths.length > 0) {
                  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 ml-9">
                    @for(path of subCat.paths; track path.slug) {
                      <a [routerLink]="['/learning', path.slug]" class="relative block p-6 bg-gray-900 border border-gray-800 rounded-lg hover:border-blue-accent transition-all duration-200 transform hover:-translate-y-1 group hover:z-10">
                        <span class="absolute top-4 right-4 text-xs font-semibold px-2 py-1 rounded-full"
                          [class.bg-green-accent/20]="path.level === 'Fundamentos' || path.level === 'Básico'" [class.text-green-300]="path.level === 'Fundamentos' || path.level === 'Básico'"
                          [class.bg-yellow-500/20]="path.level === 'Intermediário'" [class.text-yellow-300]="path.level === 'Intermediário'"
                          [class.bg-red-500/20]="path.level === 'Avançado'" [class.text-red-300]="path.level === 'Avançado'">
                          {{ path.level }}
                        </span>
                        <h4 class="text-lg font-semibold text-white group-hover:text-blue-accent transition-colors pr-16">{{ path.title }}</h4>
                        <p class="mt-2 text-sm text-gray-400">{{ path.description }}</p>
                        <div class="mt-4 text-sm text-gray-500 flex items-center gap-2">
                          <span class="material-icons-outlined text-base">list_alt</span>
                          <span>{{ path.steps.length }} passos</span>
                        </div>
                      </a>
                    }
                  </div>
                } @else {
                   <div class="ml-9 text-center py-8 bg-gray-900/50 border border-dashed border-gray-800 rounded-lg">
                    <p class="text-gray-500 text-sm">Nenhuma trilha disponível nesta subcategoria ainda.</p>
                  </div>
                }
              </div>
            }
          </div>
        </section>
      }
    </div>
  }
</div>
